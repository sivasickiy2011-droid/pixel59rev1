# –≠—Ç–∞–ø 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞ —á–µ—Ä–µ–∑ Ollama

**–§–∞–π–ª –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:** `backend/news-admin/index.py`  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è  
**–ü—Ä–∏–º–µ—Ä–Ω—ã–π –æ–±—ä–µ–º:** ~100 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

---

## üéØ –¶–µ–ª—å —ç—Ç–∞–ø–∞

–£–ª—É—á—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ Ollama llama3.2, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç—ã –∏ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –ø–æ —á–∞—Å—Ç—è–º –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤.

---

## üìã –ó–∞–¥–∞—á–∏

1. ‚úÖ –£–ª—É—á—à–∏—Ç—å –ø—Ä–æ–º–ø—Ç –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞
2. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤ –ø–æ —á–∞—Å—Ç—è–º
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
4. ‚úÖ –£–≤–µ–ª–∏—á–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞
5. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å retry-–ª–æ–≥–∏–∫—É –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

---

## üîß –ü—Ä–æ–º–ø—Ç –¥–ª—è –ò–ò –∞–≥–µ–Ω—Ç–∞

```
–ö–û–ù–¢–ï–ö–°–¢:
–≠—Ç–∞–ø—ã 1-2 –∑–∞–≤–µ—Ä—à–µ–Ω—ã - –∫–æ–Ω—Ç–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ RSS –∏ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü.
–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–≤–æ–¥–∞ —á–µ—Ä–µ–∑ Ollama (llama3.2).

–¢–ï–ö–£–©–ò–ï –ü–†–û–ë–õ–ï–ú–´:
1. –ü—Ä–æ–º–ø—Ç –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ—á–Ω—ã–π - –º–æ–¥–µ–ª—å –∏–Ω–æ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
2. –î–ª–∏–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã (>2000 —Å–∏–º–≤–æ–ª–æ–≤) –æ–±—Ä–µ–∑–∞—é—Ç—Å—è
3. –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Ollama
4. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã

–ó–ê–î–ê–ù–ò–ï:

1. –ó–∞–º–µ–Ω–∏ —Ñ—É–Ω–∫—Ü–∏—é translate_text() (—Å—Ç—Ä–æ–∫–∏ 127-166) –Ω–∞ —É–ª—É—á—à–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é:

```python
def translate_text(text: str, max_retries: int = 2) -> str:
    """
    –ü–µ—Ä–µ–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç —Å –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –Ω–∞ —Ä—É—Å—Å–∫–∏–π —á–µ—Ä–µ–∑ Ollama.
    
    Args:
        text: –¢–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞
        max_retries: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ –æ—à–∏–±–∫–µ
    
    Returns:
        –ü–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –∏–ª–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª –ø—Ä–∏ –æ—à–∏–±–∫–µ
    """
    if not text or len(text.strip()) < 3:
        return text
    
    # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–ª–∏–Ω—É –¥–ª—è –æ–¥–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
    text_to_translate = text[:1500]
    
    for attempt in range(max_retries):
        try:
            conn = http.client.HTTPConnection('localhost', 11434, timeout=45)
            
            # –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å —á–µ—Ç–∫–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
            prompt = f"""Translate the following English text to Russian. 
Rules:
- Provide ONLY the Russian translation
- Do NOT add any explanations, comments, or meta-text
- Preserve the original meaning and tone
- Use natural Russian language
- Do NOT translate proper names and technical terms

Text to translate:
{text_to_translate}

Russian translation:"""
            
            payload = json.dumps({
                'model': 'llama3.2',
                'prompt': prompt,
                'stream': False,
                'options': {
                    'temperature': 0.3,  # –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–ª—è –±–æ–ª–µ–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞
                    'top_p': 0.9,
                    'top_k': 40,
                    'num_predict': 2000,  # –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤
                    'stop': ['\n\nText to translate:', 'English text:', '---']
                }
            })
            
            headers = {'Content-Type': 'application/json'}
            conn.request('POST', '/api/generate', payload, headers)
            response = conn.getresponse()
            data = response.read().decode('utf-8')
            
            if response.status == 200:
                result = json.loads(data)
                translated = result.get('response', '').strip()
                
                # –ü–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–∞
                translated = post_process_translation(translated)
                
                # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ–≤–æ–¥–∞
                if translated and len(translated) > 10 and translated != text_to_translate:
                    conn.close()
                    print(f"Translation successful: {len(text_to_translate)} -> {len(translated)} chars")
                    return translated
                else:
                    print(f"Translation attempt {attempt + 1} produced invalid result")
            else:
                print(f"Ollama returned status {response.status}")
            
            conn.close()
            
        except http.client.HTTPException as e:
            print(f'Ollama HTTP error (attempt {attempt + 1}): {e}')
        except json.JSONDecodeError as e:
            print(f'Ollama JSON decode error (attempt {attempt + 1}): {e}')
        except Exception as e:
            print(f'Ollama translation error (attempt {attempt + 1}): {e}')
        
        # –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–æ–π
        if attempt < max_retries - 1:
            time.sleep(2)
    
    # –ï—Å–ª–∏ –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –Ω–µ—É–¥–∞—á–Ω—ã, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª
    print(f'All translation attempts failed, returning original text')
    return text
```

2. –°–æ–∑–¥–∞–π –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é post_process_translation() –ü–ï–†–ï–î translate_text():

```python
def post_process_translation(text: str) -> str:
    """
    –ü–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞.
    –£–¥–∞–ª—è–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –∏ —É–ª—É—á—à–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.
    
    Args:
        text: –ü–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
    
    Returns:
        –û—á–∏—â–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
    """
    if not text:
        return text
    
    # –£–¥–∞–ª–µ–Ω–∏–µ –∫–∞–≤—ã—á–µ–∫ –≤ –Ω–∞—á–∞–ª–µ –∏ –∫–æ–Ω—Ü–µ
    text = text.strip('"\'')
    
    # –£–¥–∞–ª–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ –æ—Ç –º–æ–¥–µ–ª–∏
    prefixes_to_remove = [
        'Translation:', '–ü–µ—Ä–µ–≤–æ–¥:', 'Russian translation:', 
        '–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ —Ä—É—Å—Å–∫–∏–π:', '–¢–µ–∫—Å—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º:', '–í–æ—Ç –ø–µ—Ä–µ–≤–æ–¥:',
        'Here is the translation:', '–í–æ—Ç —Ä—É—Å—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥:',
        'Russian:', '–†—É—Å—Å–∫–∏–π:', 'RU:', 'Translated text:'
    ]
    
    for prefix in prefixes_to_remove:
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞—á–∞–ª–æ —Ç–µ–∫—Å—Ç–∞ (–±–µ–∑ —É—á–µ—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞)
        if text.lower().startswith(prefix.lower()):
            text = text[len(prefix):].strip()
            # –£–¥–∞–ª—è–µ–º –≤–æ–∑–º–æ–∂–Ω–æ–µ –¥–≤–æ–µ—Ç–æ—á–∏–µ –∏–ª–∏ —Ç–∏—Ä–µ –ø–æ—Å–ª–µ –ø—Ä–µ—Ñ–∏–∫—Å–∞
            text = text.lstrip(':- ')
    
    # –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤ —Å—Ç—Ä–æ–∫
    text = re.sub(r'\n{3,}', '\n\n', text)
    
    # –£–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤
    text = re.sub(r' {2,}', ' ', text)
    
    # –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–±–µ–ª–æ–≤ –ø–µ—Ä–µ–¥ –∑–Ω–∞–∫–∞–º–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è
    text = re.sub(r' +([.,!?;:])', r'\1', text)
    
    return text.strip()
```

3. –°–æ–∑–¥–∞–π –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é translate_long_text() –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤:

```python
def translate_long_text(text: str, chunk_size: int = 1500) -> str:
    """
    –ü–µ—Ä–µ–≤–æ–¥–∏—Ç –¥–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–æ —á–∞—Å—Ç—è–º.
    
    Args:
        text: –î–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞
        chunk_size: –†–∞–∑–º–µ—Ä –æ–¥–Ω–æ–π —á–∞—Å—Ç–∏
    
    Returns:
        –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
    """
    if not text or len(text) <= chunk_size:
        return translate_text(text)
    
    print(f"Translating long text ({len(text)} chars) in chunks...")
    
    # –†–∞–∑–±–∏–≤–∞–µ–º —Ç–µ–∫—Å—Ç –Ω–∞ —á–∞—Å—Ç–∏ –ø–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º
    sentences = re.split(r'([.!?]+\s+)', text)
    
    chunks = []
    current_chunk = ""
    
    for i in range(0, len(sentences), 2):
        sentence = sentences[i]
        separator = sentences[i + 1] if i + 1 < len(sentences) else ''
        
        if len(current_chunk) + len(sentence) + len(separator) <= chunk_size:
            current_chunk += sentence + separator
        else:
            if current_chunk:
                chunks.append(current_chunk)
            current_chunk = sentence + separator
    
    if current_chunk:
        chunks.append(current_chunk)
    
    # –ü–µ—Ä–µ–≤–æ–¥–∏–º –∫–∞–∂–¥—É—é —á–∞—Å—Ç—å
    translated_chunks = []
    for i, chunk in enumerate(chunks[:5]):  # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º 5 —á–∞—Å—Ç—è–º–∏
        print(f"Translating chunk {i + 1}/{min(len(chunks), 5)}...")
        translated = translate_text(chunk)
        translated_chunks.append(translated)
        
        # –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É —á–∞—Å—Ç—è–º–∏
        if i < len(chunks) - 1:
            time.sleep(1)
    
    result = ' '.join(translated_chunks)
    print(f"Long text translation complete: {len(result)} chars")
    
    return result
```

4. –û–±–Ω–æ–≤–∏ —Ñ—É–Ω–∫—Ü–∏—é translate_full_content() (—Å—Ç—Ä–æ–∫–∏ 168-173):

```python
def translate_full_content(text: str) -> str:
    """
    –ü–µ—Ä–µ–≤–æ–¥ –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤.
    
    Args:
        text: –¢–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞
    
    Returns:
        –ü–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
    """
    if not text or len(text.strip()) < 10:
        return text
    
    # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –æ–±—â—É—é –¥–ª–∏–Ω—É
    text = text[:5000]
    
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–≤–æ–¥ –ø–æ —á–∞—Å—Ç—è–º –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤
    if len(text) > 1500:
        return translate_long_text(text)
    else:
        return translate_text(text)
```

5. –î–æ–±–∞–≤—å –ø—Ä–æ–≤–µ—Ä–∫—É –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Ollama –≤ –Ω–∞—á–∞–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏ handler():

```python
def check_ollama_available() -> bool:
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Ollama API"""
    try:
        conn = http.client.HTTPConnection('localhost', 11434, timeout=5)
        conn.request('GET', '/api/tags')
        response = conn.getresponse()
        conn.close()
        return response.status == 200
    except Exception as e:
        print(f"Ollama not available: {e}")
        return False

# –í –Ω–∞—á–∞–ª–µ handler(), –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
if not check_ollama_available():
    return {
        'statusCode': 503,
        'headers': {
            'Content-Type': 'application/json',
            'Access-Control-Allow-Origin': '*'
        },
        'body': json.dumps({
            'success': False,
            'error': 'Ollama service is not available. Please start Ollama first.'
        })
    }
```

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –°–æ—Ö—Ä–∞–Ω–∏ –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –î–æ–±–∞–≤—å –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π –≤—Å–µ –æ—à–∏–±–∫–∏
- –ù–µ –±–ª–æ–∫–∏—Ä—É–π –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–∏ –æ—à–∏–±–∫–µ –ø–µ—Ä–µ–≤–æ–¥–∞ –æ–¥–Ω–æ–π –Ω–æ–≤–æ—Å—Ç–∏

–û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢:
- –ö–∞—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–≤–æ–¥–∞ —É–ª—É—á—à–∏—Ç—Å—è
- –î–ª–∏–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –±—É–¥—É—Ç –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é
- –°–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç —É—Å—Ç–æ–π—á–∏–≤–∞ –∫ –æ—à–∏–±–∫–∞–º Ollama

–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:
1. –ü—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ–≤–æ–¥ –∫–æ—Ä–æ—Ç–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ (< 500 —Å–∏–º–≤–æ–ª–æ–≤)
2. –ü—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ–≤–æ–¥ –¥–ª–∏–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ (> 2000 —Å–∏–º–≤–æ–ª–æ–≤)
3. –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–±–æ—Ç—É –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–Ω–æ–π Ollama
4. –ü—Ä–æ–≤–µ—Ä—å –∫–∞—á–µ—Å—Ç–≤–æ —Ä—É—Å—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

1. –§—É–Ω–∫—Ü–∏—è `translate_text()` —É–ª—É—á—à–µ–Ω–∞ —Å retry-–ª–æ–≥–∏–∫–æ–π
2. –§—É–Ω–∫—Ü–∏—è `post_process_translation()` –æ—á–∏—â–∞–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
3. –§—É–Ω–∫—Ü–∏—è `translate_long_text()` –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –¥–ª–∏–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Ollama —Ä–∞–±–æ—Ç–∞–µ—Ç
5. –ö–∞—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–≤–æ–¥–∞ —É–ª—É—á—à–∏–ª–æ—Å—å

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Ollama
```bash
# –£–±–µ–¥–∏—Å—å, —á—Ç–æ Ollama –∑–∞–ø—É—â–µ–Ω–∞
curl http://localhost:11434/api/tags

# –ü—Ä–æ–≤–µ—Ä—å –º–æ–¥–µ–ª—å llama3.2
ollama list | grep llama3.2
```

### –¢–µ—Å—Ç –ø–µ—Ä–µ–≤–æ–¥–∞
```python
# –ö–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç
short_text = "This is a test article about web development."
translated = translate_text(short_text)
print(f"Short: {translated}")

# –î–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
long_text = "..." * 1000  # 3000+ —Å–∏–º–≤–æ–ª–æ–≤
translated = translate_long_text(long_text)
print(f"Long: {len(translated)} chars")
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –≤ –ë–î
```sql
SELECT 
    id,
    original_title,
    SUBSTRING(translated_content, 1, 200) as preview,
    LENGTH(translated_content) as len
FROM news 
ORDER BY created_at DESC 
LIMIT 3;

-- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ç–µ–∫—Å—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏ –±–µ–∑ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
```

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

**–ë—ã–ª–æ:**
- –ü–µ—Ä–µ–≤–æ–¥ –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è –Ω–∞ 300 —Å–∏–º–≤–æ–ª–∞—Ö
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Ç–∏–ø–∞ "Translation:" –≤ —Ç–µ–∫—Å—Ç–µ
- –û—à–∏–±–∫–∏ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Ollama

**–°—Ç–∞–Ω–µ—Ç:**
- –ü–µ—Ä–µ–≤–æ–¥ –¥–æ 5000 —Å–∏–º–≤–æ–ª–æ–≤
- –ß–∏—Å—Ç—ã–π —Ä—É—Å—Å–∫–∏–π —Ç–µ–∫—Å—Ç –±–µ–∑ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
- Graceful degradation –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

---

## ‚è≠Ô∏è –°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–∞–ø–∞ 3 –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ **–≠—Ç–∞–ø—É 4: –£–ª—É—á—à–µ–Ω–∏–µ –æ—á–∏—Å—Ç–∫–∏ HTML** –¥–ª—è –±–æ–ª–µ–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ—Ç —ç—Ç–∞–ø –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞ —Å–∞–π—Ç–µ.
